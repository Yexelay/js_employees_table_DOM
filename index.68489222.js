function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(t,n){if(t){if("string"==typeof t)return e(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var n,r,a,o,i,l=document.querySelector("table"),c=l.querySelectorAll("th"),u=1,s=-1,d=null,m=function(){l.querySelectorAll("tr").forEach(function(e){return e.classList.remove("active")})},p=function(){if(d){var e=d.querySelector("input"),t=e.getAttribute("data-original-value");d.textContent=e.value||t,d=null}};c.forEach(function(e,t){e.addEventListener("click",function(){s===t?u*=-1:(u=1,s=t),m(),v(t,u)})}),l.querySelector("tbody").addEventListener("click",function(e){"TD"===e.target.tagName&&(m(),e.target.parentElement.classList.add("active"))});var f=function(e,t){var n=/^[A-Za-z\s'`]+$/;if(!t||0===t.trim().length||"name"===e&&(!n.test(t)||t.length<4)||"position"===e&&!n.test(t))return!1;if("age"===e){var r=+t;if(r<18||r>90)return!1}return!0},y=function(e){var t=e.textContent.trim(),n=e.getAttribute("data-qa");p(),e.textContent="";var r=document.createElement("input");r.type="text",r.value=t,r.className="cell-input",r.setAttribute("data-original-value",t),e.appendChild(r),r.focus();var a=function(){var a=r.value.trim();f(n,a)?(e.textContent=a||t,E("Value for ".concat(n," successfully updated"),"success")):(e.textContent=t,E("Invalid value for ".concat(n),"error"))};r.addEventListener("blur",a),r.addEventListener("keypress",function(e){"Enter"===e.key&&a()})};l.querySelectorAll("tbody td").forEach(function(e){e.addEventListener("dblclick",function(){y(e)})});var v=function(e,n){var r=l.querySelector("tbody"),a=t(r.querySelectorAll("tr")).sort(function(t,r){var a=t.cells[e].textContent.trim(),o=r.cells[e].textContent.trim();return 4===e?(parseFloat(a.replace(/[$,]/g,""))-parseFloat(o.replace(/[$,]/g,"")))*n:+a&&+o?(+a-+o)*n:a.localeCompare(o)*n});r.innerHTML="",r.append.apply(r,t(a))},b=document.createElement("form");b.setAttribute("novalidate",!0),b.classList.add("new-employee-form");var g=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"text",a=document.createElement("label");a.textContent=e;var o=document.createElement("input");return o.name=t,o.type=r,o.setAttribute("data-qa",n),o.required=!0,a.appendChild(o),a},h=document.createElement("div");h.setAttribute("data-qa","notification"),document.body.appendChild(h),b.appendChild(g("Name:","name","name")),b.appendChild(g("Position:","position","position")),b.appendChild((n="office",r=["Tokyo","Singapore","London","New York","Edinburgh","San Francisco"],a="office",(o=document.createElement("label")).textContent="Office:",(i=document.createElement("select")).name=n,i.setAttribute("data-qa",a),i.required=!0,r.forEach(function(e){var t=document.createElement("option");t.value=e,t.textContent=e,i.appendChild(t)}),o.appendChild(i),o)),b.appendChild(g("Age:","age","age","number")),b.appendChild(g("Salary:","salary","salary","number"));var C=document.createElement("button");C.type="submit",C.textContent="Save to table",b.appendChild(C),document.body.appendChild(b);var E=function(e,t){h.textContent=e,h.className="notification ".concat(t),h.style.display="block",setTimeout(function(){h.style.display="none"},5e3)},A=function(){h.textContent="",h.style.display="none"},S=function(e){e.addEventListener("dblclick",function(){y(e)})};b.addEventListener("submit",function(e){e.preventDefault();var t=!0,n=new FormData(b),r=n.get("name"),a=n.get("position"),o=+n.get("age"),i=n.get("office"),c=n.get("salary"),d=/^[A-Za-z\s'`]+$/;if(r&&0!==r.trim().length?d.test(r)?r.length<4&&(E("Name must be at least 4 characters long","error"),t=!1):(E("Name must contain only letters","error"),t=!1):(E("Name cannot be empty or only spaces","error"),t=!1),t&&(a&&0!==a.trim().length?d.test(a)?a.length<4&&(E("Position must be at least 4 characters long","error"),t=!1):(E("Position must contain only letters","error"),t=!1):(E("Position cannot be empty or only spaces","error"),t=!1),t)&&((o<18||o>90)&&(E("Age must be between 18 and 90","error"),t=!1),i||(E("Office must be selected","error"),t=!1),t&&((!c||isNaN(c)||c<=0)&&(E("Salary must be a positive number","error"),t=!1),t))){m(),A();var p=document.createElement("tr");["name","position","office","age","salary"].forEach(function(e){var t=document.createElement("td"),r=n.get(e);"salary"===e&&(r="$".concat(parseFloat(r).toLocaleString("en-US"))),t.textContent=r,t.setAttribute("data-qa",e),S(t),p.appendChild(t)}),l.querySelector("tbody").appendChild(p),-1!==s&&v(s,u),b.reset(),E("Employee added successfully!","success")}});
//# sourceMappingURL=index.68489222.js.map
